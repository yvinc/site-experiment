{{- $var := .Get 0 }}
{{- $pinID := print "pin-" .Page.File.UniqueID "-" .Ordinal }}
{{- $url := .Get "url" }}
{{- $label := .Get "label" }}
{{- $img := .Get "img" }}
{{- $alt := .Get "alt" }}
{{- if .IsNamedParams }}
    {{- if .Get "quote" }}
        <div>
        <a href="{{ $url }}" class="has-img has-aria-label has-quote"
            {{ with $label }} aria-label="{{ . }}"{{ end }}>
            {{ with .Get "quote" }}<div>{{ safeHTML . }}</div>{{ end }}
            {{ with $img }} <img src="{{ . }}" alt="{{ default $alt $label }}" loading="lazy">{{ end }}
        </a>
        </div>
    {{- else }}
        <div role="figure">
            {{- with $url }}<a href="{{ . }}" target="_blank">{{ end }}
            {{- with $img }}<img src="{{ . }}" alt="{{ default $alt $label }}" loading="lazy">{{ end }}
            {{- if $url }}</a>{{ end }}
            {{- with $label }}
                <figcaption>
                    {{ if $url }}<a href="{{ $url }}"> {{ . }}</a>{{ else }}{{ . }}{{ end }}
                </figcaption>
            {{- end }}
            </div>
    {{- end }}
{{ else if or (eq $var "") (eq $var "begin") }}<div class="column pin">
{{ else if eq $var "end" }}</div>
{{- end }}